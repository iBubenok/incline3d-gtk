# Форматы файлов Incline3D

## CSV (замеры инклинометрии)
- **Кодировки:** UTF-8 (BOM поддерживается) и CP1251 (автоопределение по содержимому). Внутри приложения все строки переводятся в UTF-8.
- **Разделители:** `;`, `,`, табуляция, `|` — выбирается автоматически по консистентности. Десятичный разделитель `.` или `,` (определяется по первым строкам, при `,` в качестве разделителя используется `.`).
- **Заголовок:** необязателен. Если строка содержит текстовые поля, считается заголовком; иначе применяется порядок по умолчанию (глубина, зенит, азимут).
- **Синонимы колонок (регистр и символы не важны, кириллица/латиница):**
  - Глубина: `MD`, `DEPT`, `DEPTH`, `MEASUREDDEPTH`, `DEPTHMD`, `ГЛУБИНА`, `ГЛУБ`, `ГЛ`.
  - Зенит: `INC`, `INCL`, `INCLINATION`, `DEV`, `DEVIATION`, `ANGLE`, `ZENIT`, `ZENITH`, `UGOL`, `УГОЛ`, `ЗЕНИТ`, `ИНКЛ`.
  - Магнитный азимут: `AZ`, `AZI`, `AZIM`, `AZIMUTH`, `HAZI`, `MAGAZ`, `АЗИМУТ`.
  - Истинный азимут: `AZIT`, `TAZI`, `DAZI`, `AZ_TRUE`, `TRUE_AZ`, `AZTRUE`.
- **Эвристики:** если заголовок не помог — глубина выбирается по монотонно растущей колонке, зенит — по диапазону [0;180], азимут — по диапазону [0;360]. Пустые строки и комментарии пропускаются, значения с десятичной запятой нормализуются.
- **CLI ручной маппинг:** `incline3d --import-measurements <файл> --format csv --depth-col 1 --inc-col 2 [--delimiter ';'|comma|tab|pipe] [--decimal ','|'.'] [--encoding UTF-8|CP1251]`.

## LAS 2.0
- Поддерживаемые секции: `~Version`, `~Well`, `~Curve`, `~Ascii` (остальные игнорируются безопасно).
- **Кодировки:** UTF-8 и CP1251 (включая русские комментарии/описания).
- **Обязательные кривые:** глубина и зенит. Автодетект по мнемоникам и единицам.
  - Глубина: `DEPT`, `DEPTH`, `MD`, `MEASUREDDEPTH`, `DEPTHMD`, `DEPTMD`, `ГЛУБИНА`.
  - Зенит: `INCL`, `INC`, `INCLINATION`, `DEV`, `DEVIATION`, `ANGLE`, `ZENIT`, `ZENITH`, `UGOL`, `УГОЛ`.
  - Магнитный азимут: `AZIM`, `AZI`, `AZIMUTH`, `HAZI`, `MAGAZ`, `AZM`.
  - Истинный азимут: `AZIT`, `TAZI`, `DAZI`, `AZ_TRUE`, `TRUE_AZ`.
- **Эвристики:** если мнемоники не совпали, глубина берётся по единицам `M/FT` или первой колонке, зенит — по единицам градусов/`GRAD`, азимут — по единицам угла, не пересекающимся с глубиной/зенитом. Ошибка включает список найденных кривых и рекомендации по переименованию.
- **CLI ручной маппинг:** `incline3d --import-measurements gir1.las --format las --depth-mnemonic DEPTH --inc-mnemonic ZENIT [--az-mnemonic AZIMUTH]`.

## ZAK
- Текстовый секционный формат заключений. Кодировки: UTF-8/CP1251 с автоопределением. Поддерживаемые секции: `#HEADER`, `#MEASUREMENTS`, `#END`.
- Экспорт/импорт доступен через API и CLI (через автоматическое определение формата); ручной маппинг колонок не требуется.
