# Спецификация пользовательского интерфейса Incline3D

## Обзор

Документ описывает структуру графического интерфейса приложения Incline3D на GTK4, пользовательские сценарии, интерактивность и требования к локализации.

## Технологический стек UI

| Компонент | Технология |
|-----------|------------|
| Фреймворк | GTK4 |
| 3D визуализация | GtkGLArea + OpenGL 3.3+ |
| 2D визуализация | GtkDrawingArea + Cairo |
| Описание интерфейса | GtkBuilder XML |

---

## 1. Структура главного окна

### 1.1. Общая компоновка

```
┌──────────────────────────────────────────────────────────────────┐
│ Меню                                                             │
├──────────────────────────────────────────────────────────────────┤
│ Панель инструментов                                              │
├────────────────────────┬─────────────────────────────────────────┤
│                        │                                         │
│   Панель данных        │         Область визуализации            │
│                        │                                         │
│  ┌──────────────────┐  │  ┌─────────────────────────────────────┐│
│  │ Таблица скважин  │  │  │  [Аксонометрия] [План] [Верт.проек.]││
│  │                  │  │  ├─────────────────────────────────────┤│
│  │                  │  │  │                                     ││
│  └──────────────────┘  │  │                                     ││
│                        │  │         Графическая область         ││
│  ┌──────────────────┐  │  │                                     ││
│  │ Проектные точки  │  │  │                                     ││
│  │                  │  │  │                                     ││
│  └──────────────────┘  │  │                                     ││
│                        │  │                                     ││
│  ┌──────────────────┐  │  └─────────────────────────────────────┘│
│  │ Пункты возбужд.  │  │                                         │
│  │                  │  │                                         │
│  └──────────────────┘  │                                         │
│                        │                                         │
├────────────────────────┴─────────────────────────────────────────┤
│ Строка статуса                                                   │
└──────────────────────────────────────────────────────────────────┘
```

### 1.2. Размеры и пропорции

- **Минимальный размер окна**: 1024×768 пикселей
- **Рекомендуемый размер**: 1920×1080 пикселей
- **Панель данных**: 300–400 пикселей ширины (изменяемая)
- **Разделитель**: GtkPaned для изменения пропорций

---

## 2. Главное меню

### 2.1. Структура меню

```
Проект
├── Создать                    Ctrl+N
├── Открыть...                 Ctrl+O
├── Открыть недавние          →
├── ─────────────
├── Сохранить                  Ctrl+S
├── Сохранить как...           Ctrl+Shift+S
├── ─────────────
├── Сохранить изображение...   Ctrl+E
├── Копировать в буфер         Ctrl+Shift+C
├── ─────────────
└── Выход                      Ctrl+Q

Исходные данные
├── Создать скважину...        Ctrl+Shift+N
├── Импорт...                  Ctrl+I
├── ─────────────
├── Редактировать...           F2
├── Удалить                    Delete
├── ─────────────
└── Свойства скважины...       Ctrl+Enter

Результаты обработки
├── Просмотр результатов       F3
├── ─────────────
├── Экспорт...                 Ctrl+Shift+E
├── Экспорт всех...
└── ─────────────

Операции
├── Обработать                 F5
├── Обработать все             Ctrl+F5
├── ─────────────
├── Анализ сближения...
├── Анализ отхода...
└── ─────────────

Настройки
├── Параметры обработки...
├── Настройки визуализации...
├── ─────────────
├── Общие настройки...         Ctrl+,
└── ─────────────

Вид
├── Аксонометрия               F6
├── План                       F7
├── Вертикальная проекция      F8
├── ─────────────
├── Панель данных              Ctrl+D
├── Строка статуса
└── ─────────────

Справка
├── Справка                    F1
├── ─────────────
└── О программе...
```

### 2.2. Контекстные меню

#### Контекстное меню таблицы скважин

```
Обработать                    F5
Просмотр результатов          F3
─────────────
Редактировать...              F2
Свойства...                   Ctrl+Enter
─────────────
Копировать
Удалить                       Delete
─────────────
Установить как базовую
Изменить цвет...
Показать/Скрыть
```

#### Контекстное меню 3D-вида

```
Вид по умолчанию              Home
─────────────
Горизонтальная сетка          ✓
Вертикальная сетка            ✓
Плановая сетка
Уровень моря                  ✓
Оси координат                 ✓
─────────────
Сохранить изображение...
Копировать в буфер
```

---

## 3. Панель инструментов

### 3.1. Кнопки панели инструментов

```
[Открыть проект] [Сохранить проект] | [Импорт] | [Обработать] |
[Сохранить изображение] [Копировать в буфер] | [Настройки]
```

### 3.2. Описание кнопок

| Иконка | Название | Действие | Подсказка |
|--------|----------|----------|-----------|
| 📂 | Открыть проект | Открыть файл проекта | Открыть существующий проект (Ctrl+O) |
| 💾 | Сохранить проект | Сохранить текущий проект | Сохранить проект (Ctrl+S) |
| 📥 | Импорт | Импорт данных скважины | Импортировать данные из файла (Ctrl+I) |
| ▶️ | Обработать | Обработать выбранные скважины | Выполнить расчёт траектории (F5) |
| 🖼️ | Сохранить изображение | Экспорт текущего вида | Сохранить изображение в файл (Ctrl+E) |
| 📋 | Копировать в буфер | Копировать изображение | Копировать изображение в буфер обмена |
| ⚙️ | Настройки | Открыть настройки | Настройки приложения (Ctrl+,) |

---

## 4. Таблицы данных

### 4.1. Таблица скважин

Отображает список скважин в проекте.

#### Колонки

| Колонка | Тип | Ширина | Описание |
|---------|-----|--------|----------|
| ☑ | Флажок | 30px | Показать на визуализации |
| Цвет | Цветовой индикатор | 30px | Цвет скважины |
| Скважина | Текст | 120px | Название/номер скважины |
| Куст | Текст | 80px | Номер куста |
| Забой | Число | 80px | Текущий забой (м) |
| Состояние | Иконка | 30px | Обработано/Не обработано |
| База | Радио | 30px | Базовая скважина |

#### Поведение

- **Одиночный клик**: выбор скважины
- **Двойной клик**: открытие редактора замеров
- **Ctrl+клик**: множественный выбор
- **Shift+клик**: диапазонный выбор
- **Drag & Drop**: изменение порядка (опционально)

### 4.2. Таблица проектных точек

Привязана к выбранной скважине.

#### Колонки

| Колонка | Тип | Ширина | Описание |
|---------|-----|--------|----------|
| Пласт | Текст | 100px | Название пласта |
| Азимут | Число | 80px | Географический азимут (°) |
| Смещение | Число | 80px | Проектное смещение (м) |
| Глубина | Число | 80px | Глубина MD (м) |
| Абс.отм. | Число | 80px | Абсолютная отметка (м) |
| Радиус | Число | 60px | Радиус допуска (м) |
| Попадание | Иконка | 30px | В допуске / Вне допуска |

#### Кнопки управления

```
[+ Добавить] [− Удалить] [Редактировать]
```

### 4.3. Таблица пунктов возбуждения

Привязана к выбранной скважине. Отображается только для скважин с пунктами возбуждения.

#### Колонки

| Колонка | Тип | Ширина | Описание |
|---------|-----|--------|----------|
| Номер | Текст | 60px | Номер точки |
| Азимут | Число | 80px | Географический азимут (°) |
| Смещение | Число | 80px | Смещение от устья (м) |
| Альтитуда | Число | 80px | Альтитуда земли (м) |
| Цвет | Цветовой | 30px | Цвет маркера |

#### Правила отображения

- Номер "0" или "00" — квадратный маркер
- Другие номера — треугольный маркер
- Отображаются только на 3D аксонометрии

---

## 5. Визуализация

### 5.1. Вкладка "Аксонометрия" (3D)

#### Элементы отображения

- Линии стволов скважин (с цветовой дифференциацией)
- Проектные точки с кругами допуска
- Пункты возбуждения (квадраты/треугольники)
- Отметки глубин с настраиваемым шагом
- Координатные оси (N/E)
- Сетки:
  - Горизонтальная (на заданной глубине)
  - Вертикальная (параллельно осям)
  - Плановая (горизонтальная на устье)
- Линия уровня моря

#### Управление камерой

| Действие | Управление |
|----------|------------|
| Вращение | ЛКМ + перемещение |
| Панорамирование | Ctrl + ЛКМ + перемещение |
| Масштаб (приближение) | Колесо вверх / Shift + ЛКМ вверх |
| Масштаб (отдаление) | Колесо вниз / Shift + ЛКМ вниз |
| Сброс вида | Home / Контекстное меню |

#### Настройки аксонометрии

```cpp
struct AxonometrySettings {
    // Камера
    float rotation_x = 30.0f;           // Наклон (градусы)
    float rotation_z = 45.0f;           // Поворот (градусы)
    float zoom = 1.0f;                  // Масштаб
    glm::vec3 pan_offset{0, 0, 0};      // Смещение

    // Сетки
    bool show_grid_horizontal = true;
    bool show_grid_vertical = true;
    bool show_grid_plan = false;
    Meters grid_horizontal_depth{0.0};
    Meters grid_interval{100.0};

    // Дополнительно
    bool show_sea_level = true;
    bool show_axes = true;
    bool show_depth_labels = true;
    Meters depth_label_interval{100.0};

    // Цвета
    Color background_color = Color::White;
    Color grid_color = Color::LightGray;
    Color sea_level_color = Color::LightBlue;
};
```

### 5.2. Вкладка "План"

#### Элементы отображения

- Горизонтальная проекция траекторий
- Проектные точки и круги допуска
- Треугольники отклонения (базовая → проектная → фактическая)
- Координатная сетка
- Стрелка севера
- Масштабная линейка

#### Управление

| Действие | Управление |
|----------|------------|
| Панорамирование | ЛКМ + перемещение |
| Масштаб | Колесо мыши |
| Выделение фрагмента | ПКМ + рамка |
| Сброс вида | Home |

#### Настройки плана

```cpp
struct PlanSettings {
    // Масштаб
    float scale = 1.0f;
    glm::vec2 pan_offset{0, 0};

    // Отображение
    bool show_grid = true;
    Meters grid_interval{100.0};
    bool show_project_points = true;
    bool show_tolerance_circles = true;
    bool show_deviation_triangles = true;
    bool show_scale_bar = true;
    bool show_north_arrow = true;

    // Подписи
    bool show_well_labels = true;
    bool show_depth_labels = false;

    // Цвета
    Color background_color = Color::White;
    Color grid_color = Color::LightGray;
};
```

### 5.3. Вкладка "Вертикальная проекция"

#### Элементы отображения

- Проекция траекторий на вертикальную плоскость
- Отметки глубин
- Координатная сетка
- "Шапка" (заголовочная таблица)
- Уровень моря

#### Выбор плоскости сечения

1. **Автоматически**: плоскость максимального смещения забоя
2. **Ручной ввод**: азимут плоскости в градусах
3. **Интерактивно**: вращение мышью

#### Управление

| Действие | Управление |
|----------|------------|
| Вращение плоскости | ЛКМ горизонтальное перемещение |
| Панорамирование | Ctrl + ЛКМ |
| Масштаб | Колесо мыши |
| Выделение фрагмента | ПКМ + рамка → увеличить |

#### "Шапка" (Header)

Опциональная заголовочная таблица с информацией о скважинах:

```
┌────────────────────────────────────────────────────────────┐
│                      Инклинометрия                         │
│              Месторождение: Приобское                      │
│                    Куст: 123                               │
├──────────────────┬──────────────────┬──────────────────────┤
│ Скважина         │ 123-1            │ 123-2                │
│ Забой, м         │ 2540             │ 2680                 │
│ Смещение, м      │ 485              │ 520                  │
│ Азимут, °        │ 45               │ 52                   │
└──────────────────┴──────────────────┴──────────────────────┘
```

#### Настройки вертикальной проекции

```cpp
struct VerticalProjectionSettings {
    // Плоскость
    std::optional<Degrees> plane_azimuth;  // nullopt = авто
    bool auto_plane = true;

    // Масштаб
    float scale_horizontal = 1.0f;
    float scale_vertical = 1.0f;
    glm::vec2 pan_offset{0, 0};

    // Сетка
    bool show_grid = true;
    Meters grid_interval_horizontal{100.0};
    Meters grid_interval_vertical{100.0};

    // Шапка
    bool show_header = true;
    HeaderStyle header_style = HeaderStyle::Compact;

    // Дополнительно
    bool show_sea_level = true;
    bool show_depth_labels = true;
};
```

---

## 6. Диалоговые окна

### 6.1. Диалог импорта данных

```
┌─────────────────────────────────────────────────────────────┐
│ Импорт данных инклинометрии                            [X] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Файл: [_______________________________] [Обзор...]         │
│                                                             │
│  Формат: [CSV (автоопределение)        ▼]                  │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ Предпросмотр                                        │   │
│  │ ┌─────────────────────────────────────────────────┐ │   │
│  │ │ Глубина │ Угол  │ Азимут │ ...                  │ │   │
│  │ │ 0.0     │ 0.0   │        │                      │ │   │
│  │ │ 100.0   │ 2.5   │ 45.0   │                      │ │   │
│  │ │ 200.0   │ 5.0   │ 47.0   │                      │ │   │
│  │ └─────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  Соответствие полей:                                        │
│  ┌─────────────────┬────────────────────┐                  │
│  │ Глубина (MD)    │ [Колонка 1      ▼] │                  │
│  │ Зенитный угол   │ [Колонка 2      ▼] │                  │
│  │ Азимут магн.    │ [Колонка 3      ▼] │                  │
│  │ Азимут истинный │ [Не импортировать▼]│                  │
│  └─────────────────┴────────────────────┘                  │
│                                                             │
│  ☐ Первая строка — заголовок                               │
│  Разделитель: [Точка с запятой ▼]                          │
│  Кодировка: [UTF-8            ▼]                           │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                              [Отмена]  [Импортировать]      │
└─────────────────────────────────────────────────────────────┘
```

### 6.2. Диалог параметров обработки

```
┌─────────────────────────────────────────────────────────────┐
│ Параметры обработки                                    [X] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Метод расчёта траектории                                   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ○ Усреднение углов (Average Angle)                  │   │
│  │ ○ Балансный тангенциальный (Balanced Tangential)    │   │
│  │ ● Минимальная кривизна (Minimum Curvature)          │   │
│  │ ○ Кольцевые дуги (Ring Arc)                         │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  Режим азимута                                              │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ○ Магнитный                                         │   │
│  │ ○ Истинный (географический/дирекционный)            │   │
│  │ ● Авто (истинный если задан, иначе магнитный)       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  Параметры интенсивности                                    │
│  Интервал L: [25.0    ] м                                  │
│                                                             │
│  Вертикальные участки                                       │
│  Критический угол U_кр: [0.5     ] °                       │
│                                                             │
│  ☑ Сглаживать интенсивность                                │
│  ☐ Применить ко всем скважинам в проекте                   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                              [Отмена]  [Обработать]         │
└─────────────────────────────────────────────────────────────┘
```

### 6.3. Диалог свойств скважины

```
┌─────────────────────────────────────────────────────────────┐
│ Свойства скважины                                      [X] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  [Общие] [Параметры] [Замеры] [Результаты]                 │
│  ─────────────────────────────────────────                  │
│                                                             │
│  Идентификация                                              │
│  UWI: [123456789012         ]                              │
│  Регион: [Западная Сибирь    ]                             │
│  Месторождение: [Приобское        ]                        │
│  Площадь: [Северный участок  ]                             │
│  Куст: [123                  ]                             │
│  Скважина: [123-1              ]                           │
│                                                             │
│  Альтитуды                                                  │
│  Стол ротора: [85.3   ] м                                  │
│  Земля: [80.1   ] м                                        │
│                                                             │
│  Поправки                                                   │
│  Магнитное склонение: [12.5   ] °                          │
│  ○ Чистое склонение (→ геогр. азимут)                      │
│  ● Суммарная поправка (→ дир. угол)                        │
│                                                             │
│  Забой                                                      │
│  Текущий: [2540   ] м   Проектный: [2600   ] м             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                              [Отмена]  [Применить]  [OK]    │
└─────────────────────────────────────────────────────────────┘
```

### 6.4. Диалог экспорта изображения

```
┌─────────────────────────────────────────────────────────────┐
│ Сохранить изображение                                  [X] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Файл: [_______________________________] [Обзор...]         │
│                                                             │
│  Формат: ● PNG   ○ BMP                                     │
│                                                             │
│  Размер:                                                    │
│  ● Текущий размер окна (1920 × 1080)                       │
│  ○ Масштабированный: [____] × [____] пикселей              │
│  ○ DPI: [300    ] (для печати)                             │
│                                                             │
│  ☑ Белый фон                                               │
│  ☑ Включить рамку                                          │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                              [Отмена]  [Сохранить]          │
└─────────────────────────────────────────────────────────────┘
```

### 6.5. Диалог настроек визуализации

```
┌─────────────────────────────────────────────────────────────┐
│ Настройки визуализации                                 [X] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  [Аксонометрия] [План] [Верт. проекция] [Общие]            │
│  ─────────────────────────────────────────────              │
│                                                             │
│  Сетки                                                      │
│  ☑ Горизонтальная сетка                                    │
│     Глубина: [0       ] м                                  │
│  ☑ Вертикальная сетка                                      │
│  ☐ Плановая сетка                                          │
│  Шаг сетки: [100     ] м                                   │
│                                                             │
│  Отображение                                                │
│  ☑ Уровень моря                                            │
│  ☑ Оси координат                                           │
│  ☑ Отметки глубин   Шаг: [100     ] м                      │
│  ☑ Подписи скважин                                         │
│                                                             │
│  Толщина линий                                              │
│  Траектории: [2.0    ] пикс.                               │
│  Сетки: [1.0    ] пикс.                                    │
│                                                             │
│  Цвет фона: [■ Белый        ▼]                             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│               [По умолчанию]   [Отмена]  [Применить]  [OK]  │
└─────────────────────────────────────────────────────────────┘
```

---

## 7. Пользовательские сценарии

### 7.1. Импорт данных и обработка

```
1. Пользователь нажимает [Импорт] или Ctrl+I
2. Открывается диалог импорта
3. Пользователь выбирает файл
4. Система определяет формат и показывает предпросмотр
5. Пользователь настраивает соответствие полей
6. Пользователь нажимает [Импортировать]
7. Скважина добавляется в таблицу (состояние: "Не обработано")
8. Пользователь выбирает скважину
9. Пользователь нажимает [Обработать] или F5
10. Открывается диалог параметров обработки
11. Пользователь выбирает метод и параметры
12. Пользователь нажимает [Обработать]
13. Прогресс-бар показывает ход обработки
14. Результаты отображаются на визуализации
15. Состояние скважины меняется на "Обработано"
```

### 7.2. Ручной ввод данных

```
1. Меню: Исходные данные → Создать скважину
2. Открывается диалог свойств скважины
3. Пользователь заполняет метаданные на вкладке "Общие"
4. Пользователь заполняет параметры на вкладке "Параметры"
5. Пользователь переходит на вкладку "Замеры"
6. Таблица замеров с кнопками [+] [-] [↑] [↓]
7. Пользователь вводит данные:
   - Глубина, Зенитный угол, Азимут магн., Азимут истинный
8. Пользователь нажимает [OK]
9. Скважина добавляется в проект
```

### 7.3. Работа с проектными точками

```
1. Пользователь выбирает скважину в таблице
2. Таблица проектных точек становится активной
3. Пользователь нажимает [+ Добавить]
4. Открывается диалог редактирования проектной точки:
   - Название пласта
   - Азимут (географический)
   - Смещение
   - Глубина MD или Абсолютная отметка (взаимоисключающие)
   - Радиус допуска
   - Опционально: базовая точка
5. Пользователь заполняет данные и нажимает [OK]
6. Точка добавляется в таблицу
7. Если скважина обработана — на визуализации появляется круг допуска
8. После обработки рассчитываются фактические параметры
```

### 7.4. Работа с пунктами возбуждения

```
1. Пользователь выбирает скважину
2. Пользователь раскрывает секцию "Пункты возбуждения"
3. Пользователь нажимает [+ Добавить]
4. Диалог редактирования:
   - Номер ("0"/"00" для квадрата, иначе треугольник)
   - Азимут
   - Смещение
   - Альтитуда земли
   - Цвет (опционально)
5. Пользователь заполняет и нажимает [OK]
6. Точка отображается в 3D аксонометрии
```

### 7.5. Сохранение и открытие проекта

```
Сохранение:
1. Меню: Проект → Сохранить (или Ctrl+S)
2. Если новый проект — открывается диалог выбора файла
3. Пользователь вводит имя файла (*.inclproj)
4. Проект сохраняется (атомарная запись)
5. Строка статуса: "Проект сохранён"

Открытие:
1. Меню: Проект → Открыть (или Ctrl+O)
2. Диалог выбора файла (фильтр: *.inclproj)
3. Пользователь выбирает файл
4. Проект загружается
5. Таблицы заполняются данными
6. Визуализация обновляется
```

### 7.6. Экспорт изображений

```
1. Пользователь выбирает нужную вкладку (Аксонометрия/План/Верт.проекция)
2. Пользователь настраивает вид (вращение, масштаб)
3. Вариант А: Сохранить в файл
   - Меню: Проект → Сохранить изображение
   - Диалог с выбором формата, размера
   - Файл сохраняется
4. Вариант Б: Копировать в буфер
   - Кнопка [Копировать в буфер] или Ctrl+Shift+C
   - Изображение копируется в буфер обмена
   - Строка статуса: "Изображение скопировано"
```

### 7.7. Анализ сближения стволов

```
1. В проекте должно быть ≥2 скважин (обработанных)
2. Меню: Операции → Анализ сближения
3. Открывается диалог:
   - Список скважин с флажками для выбора
   - Параметры: шаг анализа, порог сближения
4. Пользователь выбирает скважины и параметры
5. Нажимает [Анализировать]
6. Результаты в таблице:
   - Пара скважин
   - Мин. расстояние
   - Глубины точек сближения
7. Кнопка [Показать] — центрирует визуализацию на точке сближения
```

---

## 8. Горячие клавиши

### 8.1. Глобальные

| Комбинация | Действие |
|------------|----------|
| Ctrl+N | Создать проект |
| Ctrl+O | Открыть проект |
| Ctrl+S | Сохранить проект |
| Ctrl+Shift+S | Сохранить как... |
| Ctrl+I | Импорт данных |
| Ctrl+E | Сохранить изображение |
| Ctrl+Shift+C | Копировать изображение |
| Ctrl+Q | Выход |
| F1 | Справка |
| Ctrl+, | Настройки |

### 8.2. Работа с данными

| Комбинация | Действие |
|------------|----------|
| Ctrl+Shift+N | Создать скважину |
| F2 | Редактировать скважину |
| F3 | Просмотр результатов |
| F5 | Обработать выбранные |
| Ctrl+F5 | Обработать все |
| Delete | Удалить выбранное |
| Ctrl+Enter | Свойства скважины |

### 8.3. Навигация по видам

| Комбинация | Действие |
|------------|----------|
| F6 | Аксонометрия |
| F7 | План |
| F8 | Вертикальная проекция |
| Ctrl+D | Показать/скрыть панель данных |
| Home | Сброс вида |

### 8.4. Управление 3D

| Комбинация | Действие |
|------------|----------|
| ЛКМ + drag | Вращение |
| Ctrl + ЛКМ | Панорамирование |
| Shift + ЛКМ | Масштаб |
| Колесо мыши | Масштаб |
| Home | Вид по умолчанию |
| Numpad 1 | Вид спереди (Юг) |
| Numpad 3 | Вид справа (Восток) |
| Numpad 7 | Вид сверху |

---

## 9. Строка статуса

### 9.1. Секции

```
┌──────────────────────────────────────────────────────────────────┐
│ [Подсказка/Статус операции] | [Координаты мыши] | [Режим азимута]│
└──────────────────────────────────────────────────────────────────┘
```

### 9.2. Содержимое секций

1. **Левая часть**: контекстные подсказки, статус операций
   - "Готово"
   - "Обработка: 45%"
   - "Проект сохранён"
   - "Выберите скважину для обработки"

2. **Центр**: координаты под курсором мыши
   - "X: 125.4 м  Y: 87.2 м  TVD: 1540 м"
   - Обновляется при движении мыши над визуализацией

3. **Правая часть**: текущий режим
   - "Азимут: Авто"
   - "Метод: МинКривизна"

---

## 10. Локализация

### 10.1. Требования

- Весь текст интерфейса — на **русском языке**
- Даты в формате: ДД.ММ.ГГГГ
- Числа с разделителем дробной части: точка (.)
- Разделитель тысяч: пробел (10 000.5)

### 10.2. Термины

| Английский термин | Русский перевод |
|-------------------|-----------------|
| Measured Depth (MD) | Глубина по стволу / Измеренная глубина |
| True Vertical Depth (TVD) | Вертикальная глубина |
| Inclination | Зенитный угол |
| Azimuth | Азимут |
| Magnetic Declination | Магнитное склонение |
| Dogleg Severity | Интенсивность искривления |
| Wellbore | Ствол скважины |
| Deviation | Отход / Отклонение |
| Tolerance | Допуск |
| Cluster | Куст |
| Field | Месторождение |

### 10.3. Файлы локализации

Строки хранятся в ресурсных файлах:
```
resources/
└── i18n/
    └── ru.po          # Русская локализация (основная)
```

---

## 11. Требования к доступности

### 11.1. Клавиатурная навигация

- Все функции доступны с клавиатуры
- Tab/Shift+Tab для навигации между элементами
- Enter для активации кнопок
- Space для переключения флажков
- Мнемоники для меню (подчёркнутые буквы)

### 11.2. Контрастность

- Минимальный контраст текста: 4.5:1
- Цвета скважин должны различаться для дальтоников
- Опция высококонтрастного режима

### 11.3. Масштабирование

- Поддержка HiDPI дисплеев
- Масштабирование шрифтов интерфейса
- Векторные иконки (SVG) или несколько размеров растровых

---

## 12. Обработка ошибок в UI

### 12.1. Уведомления

**Информационные** (синие):
- "Проект успешно сохранён"
- "Импортировано 1250 точек"

**Предупреждения** (жёлтые):
- "Некоторые точки не имеют азимута"
- "Файл будет перезаписан"

**Ошибки** (красные):
- "Не удалось открыть файл"
- "Ошибка обработки: деление на ноль"

### 12.2. Диалоги подтверждения

```
┌─────────────────────────────────────────────────────────────┐
│ ⚠ Подтверждение                                        [X] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Удалить выбранную скважину "123-1"?                       │
│                                                             │
│  Это действие нельзя отменить.                             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                              [Отмена]  [Удалить]            │
└─────────────────────────────────────────────────────────────┘
```

### 12.3. Валидация ввода

- Немедленная валидация при вводе
- Подсветка некорректных полей красным
- Подсказка с описанием ошибки
- Кнопки действий заблокированы при ошибках

```
  Глубина: [abc_____] ← Красная рамка
           ↑
           "Введите число"
```
